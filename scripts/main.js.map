{"version":3,"sources":["main.js"],"names":["APP","mediaBreakpoint","sm","md","lg","xl","cache","initBefore","polyfills","svgIcons","document","documentElement","className","replace","init","detectIE","lazyload","objectFitFallback","querySelectorAll","myMask","Mask","setCurrentPosition","mapOptions","tooltipsInit","mouseOverMap","buttons","closeOnFocusLost","initOnLoad","truncateText","Array","prototype","forEach","call","item","addEventListener","body","classList","toggle","e","trg","target","closest","remove","tippy","animation","arrow","arrowType","initTippy","template","querySelector","content","theme","interactive","trigger","form","map","state","MAP_HIDE_MARKERS","MAP_INVISIBLE_MARKERS","hideMarkers","input","checked","add","invisibleMarkers","name","getAttribute","console","log","calcCoordinates","x","y","getLatLng","latOfPercent","lngOfPercent","lat","parseInt","lng","top","left","mapX","mapY","updateTooltip","elem","title","newTitle","_tippy","setContent","preventDefault","playerMarker","value","pos","alert","style","mapLayout","positionField","getElementById","onmousemove","posPercent","getPosition","posLatLng","innerHTML","display","onmouseleave","rect","getBoundingClientRect","clientX","clientY","sizeX","offsetWidth","sizeY","offsetHeight","percentX","percentY","selector","regExpString","elements","listeners","i","length","mask","setCursorPosition","focus","setSelectionRange","createTextRange","range","collapse","moveEnd","moveStart","select","event","matrix","def","val","a","test","charAt","type","cutText","text","elemMaxHeight","getComputedStyle","maxHeight","elemHeight","height","shave","cutTextListener","throttle","window","myLazyLoad","_regularInit","_update","update","LazyLoad","elements_selector","callback_error","el","parentElement","that","imgUrl","dataFit","fitStyle","parent","backgroundImage","backgroundSize","container","path","xhr","XMLHttpRequest","onload","responseText","open","send","ELEMENT","matches","mozMatchesSelector","msMatchesSelector","oMatchesSelector","webkitMatchesSelector","Element","hasClass","RegExp","ua","navigator","userAgent","msie","indexOf","ieV","substring","trident","rv","edge","callback","limit","wait","setTimeout","getScreenSize","screenSize","getPropertyValue","match"],"mappings":"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","file":"main.js","sourcesContent":["const APP = {\r\n\t// сет брейкпоинтов для js\r\n\t// должны совпадать с теми что в body:after\r\n\tmediaBreakpoint: {\r\n\t\tsm: 576,\r\n\t\tmd: 768,\r\n\t\tlg: 992,\r\n\t\txl: 1200\r\n\t},\r\n\tcache: {},\r\n\tinitBefore: function() {\r\n\t\tAPP.polyfills()\r\n\t\tAPP.svgIcons()\r\n\t\tdocument.documentElement.className =\r\n\t\t\tdocument.documentElement.className.replace(\"no-js\", \"js\");\r\n\t},\r\n\r\n\tinit: function() {\r\n\t\tAPP.detectIE();\r\n\t\tAPP.lazyload();\r\n\r\n\t\tAPP.objectFitFallback(document.querySelectorAll('[data-object-fit]'));\r\n\r\n\t\tconst myMask = new APP.Mask(\".js-tel\")\r\n\t\tmyMask.init()\r\n\r\n\t\tAPP.setCurrentPosition();\r\n\t\tAPP.mapOptions();\r\n\t\tAPP.tooltipsInit();\r\n\t\tAPP.mouseOverMap();\r\n\r\n\t\tAPP.buttons();\r\n\t\tAPP.closeOnFocusLost();\r\n\t},\r\n\r\n\tinitOnLoad: function() {\r\n\t\tAPP.truncateText( document.querySelectorAll('.js-dot') );\r\n\t},\r\n\r\n\tbuttons: function() {\r\n\t\tArray.prototype.forEach.call(\r\n\t\t\tdocument.querySelectorAll('.menu-trigger'), function(item) {\r\n\t\t\titem.addEventListener('click', function() {\r\n\t\t\t\tdocument.body.classList.toggle('nav-showed')\r\n\t\t\t})\r\n\t\t})\r\n\t},\r\n\r\n\tcloseOnFocusLost: function() {\r\n\t\tdocument.addEventListener('click', function(e) {\r\n\t\t\tconst trg = e.target;\r\n\t\t\tif (!trg.closest(\".header\")) {\r\n\t\t\t\tdocument.body.classList.remove('nav-showed');\r\n\t\t\t}\r\n\t\t});\r\n\t},\r\n\r\n\ttooltipsInit: function () {\r\n\t\ttippy('[data-tippy-content]', {\r\n\t\t\tanimation: 'fade',\r\n\t\t\tarrow: true,\r\n\t\t\tarrowType: 'round',\r\n\t\t})\r\n\r\n\t\tconst initTippy = (item) => {\r\n\t\t\tconst template = item.querySelector('.js-tooltip-content')\r\n\t\t\ttippy(item, {\r\n\t\t\t\tcontent: template,\r\n\t\t\t\ttheme: 'light-border',\r\n\t\t\t\tinteractive: true,\r\n\t\t\t\tarrow: true,\r\n\t\t\t\ttrigger: 'click',\r\n\t\t\t\tarrowType: 'round',\r\n\t\t\t})\r\n\t\t\ttemplate.classList.remove('d-none')\r\n\t\t}\r\n\r\n\t\tArray.prototype.forEach.call(\r\n\t\t\tdocument.querySelectorAll('.js-tooltip'), initTippy);\r\n\t},\r\n\r\n\tmapOptions: function () {\r\n\t\tconst form = document.querySelector('.map-settings form')\r\n\t\tconst map = document.querySelector('.map')\r\n\t\tconst state = {\r\n\t\t\tMAP_HIDE_MARKERS: 'map--hide-markers',\r\n\t\t\tMAP_INVISIBLE_MARKERS: 'map--invisible-markers',\r\n\t\t}\r\n\r\n\t\tconst hideMarkers = function (input) {\r\n\t\t\tif (input.checked) {\r\n\t\t\t\tmap.classList.add(state.MAP_HIDE_MARKERS)\r\n\t\t\t} else {\r\n\t\t\t\tmap.classList.remove(state.MAP_HIDE_MARKERS)\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tconst invisibleMarkers = function (input) {\r\n\t\t\tif (input.checked) {\r\n\t\t\t\tmap.classList.add(state.MAP_INVISIBLE_MARKERS)\r\n\t\t\t} else {\r\n\t\t\t\tmap.classList.remove(state.MAP_INVISIBLE_MARKERS)\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (!form) { return }\r\n\t\tArray.prototype.forEach.call(\r\n\t\t\tform.querySelectorAll('input'), function (input) {\r\n\t\t\t\tinput.addEventListener('change', function (e) {\r\n\t\t\t\t\tconst name = input.getAttribute('name')\r\n\r\n\t\t\t\t\tswitch (name) {\r\n\t\t\t\t\t\tcase 'hidden-markers':\r\n\t\t\t\t\t\t\thideMarkers(input)\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tcase 'invisible-markers':\r\n\t\t\t\t\t\t\tinvisibleMarkers(input)\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tdefault:\r\n\t\t\t\t\t\t\tconsole.log('options switched');\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t});\r\n\t},\r\n\r\n\tcalcCoordinates: function (x = 0.01, y = 0.01, getLatLng) {\r\n\t\tconst latOfPercent = 0.149\r\n\t\tconst lngOfPercent = 0.146\r\n\t\tif (getLatLng) {\r\n\t\t\tconst lat = parseInt((x - 50) * 7)\r\n\t\t\tconst lng = parseInt((y - 50) * 7)\r\n\t\t\treturn {\r\n\t\t\t\ttop: lng,\r\n\t\t\t\tleft: lat,\r\n\t\t\t}\r\n\r\n\t\t} else {\r\n\t\t\tconst mapX = 50 + x * latOfPercent\r\n\t\t\tconst mapY = 50 + y * lngOfPercent\r\n\t\t\treturn {\r\n\t\t\t\ttop: mapY,\r\n\t\t\t\tleft: mapX,\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\r\n\tsetCurrentPosition: function () {\r\n\t\tconst form = document.querySelector('.js-coords-form')\r\n\t\tif (!form) { return }\r\n\r\n\t\tconst updateTooltip = function (elem, lat, lng) {\r\n\t\t\tconst title = elem.getAttribute('data-tippy-content')\r\n\t\t\tlet newTitle = title.replace('{{ lat }}', lat)\r\n\t\t\tnewTitle = newTitle.replace('{{ lng }}', lng)\r\n\t\t\telem._tippy.setContent(newTitle)\r\n\t\t}\r\n\r\n\t\tform.addEventListener('submit', function (e) {\r\n\t\t\te.preventDefault();\r\n\t\t\tconst playerMarker = document.querySelector('.js-player-marker')\r\n\t\t\tconst lat = form.querySelector('input[name=\"lat\"]').value * 1\r\n\t\t\tconst lng = form.querySelector('input[name=\"lng\"]').value * 1\r\n\t\t\tconst pos = APP.calcCoordinates(lat, lng)\r\n\r\n\t\t\tif (pos.left > 100 || pos.top > 100 || pos.top < 0 || pos.left < 0) {\r\n\t\t\t\talert('Неверные координаты')\r\n\t\t\t} else {\r\n\t\t\t\tplayerMarker.classList.remove('d-none')\r\n\t\t\t\tplayerMarker.style.left = pos.left+'%'\r\n\t\t\t\tplayerMarker.style.top = pos.top+'%'\r\n\t\t\t\tupdateTooltip(playerMarker, lat, lng)\r\n\t\t\t}\r\n\r\n\r\n\t\t})\r\n\t},\r\n\r\n\tmouseOverMap: function () {\r\n\t\tconst mapLayout = document.querySelector('.map__layout')\r\n\t\tconst positionField = document.getElementById('position')\r\n\t\tif (mapLayout) {\r\n\t\t\tmapLayout.onmousemove = function (e) {\r\n\t\t\t\tconst posPercent = getPosition(e);\r\n\t\t\t\tconst posLatLng = APP.calcCoordinates(posPercent.x, posPercent.y, true)\r\n\r\n\t\t\t\tpositionField.innerHTML = 'lat: ' + posLatLng.left + ', long: ' + posLatLng.top;\r\n\t\t\t\tpositionField.style.display = 'block'\r\n\t\t\t\tpositionField.style.top = posPercent.y+'%'\r\n\t\t\t\tpositionField.style.left = posPercent.x+'%'\r\n\t\t\t};\r\n\t\t\tmapLayout.onmouseleave = function () {\r\n\t\t\t\tpositionField.style.top = 0\r\n\t\t\t\tpositionField.style.left = 0\r\n\t\t\t\tpositionField.style.display = 'none'\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tfunction getPosition(e) {\r\n\t\t\tvar rect = e.target.getBoundingClientRect();\r\n\t\t\tvar x = e.clientX - rect.left;\r\n\t\t\tvar y = e.clientY - rect.top;\r\n\t\t\tconst sizeX = e.target.offsetWidth\r\n\t\t\tconst sizeY = e.target.offsetHeight\r\n\t\t\tconst percentX = parseInt(x / sizeX * 100 * 10) / 10\r\n\t\t\tconst percentY = parseInt(y / sizeY * 100 * 10) / 10\r\n\t\t\treturn {\r\n\t\t\t\tx: percentX,\r\n\t\t\t\ty: percentY\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\r\n\tMask: function(selector, regExpString = \"+7 (___) ___-__-__\") {\r\n\t\tthis.elements = document.querySelectorAll(selector)\r\n\t\tthis.init = function() {\r\n\t\t\tlisteners(this.elements)\r\n\t\t}\r\n\r\n\t\tconst listeners = (selector) => {\r\n\t\t\tfor (let i = 0; i < selector.length; i++) {\r\n\t\t\t\tconst input = selector[i];\r\n\t\t\t\tinput.addEventListener(\"input\", mask, false);\r\n\t\t\t\tinput.addEventListener(\"focus\", mask, false);\r\n\t\t\t\tinput.addEventListener(\"blur\", mask, false);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tconst setCursorPosition = function(pos, elem) {\r\n\t\t\telem.focus();\r\n\t\t\tif (elem.setSelectionRange) elem.setSelectionRange(pos, pos);\r\n\t\t\telse if (elem.createTextRange) {\r\n\t\t\t\tconst range = elem.createTextRange();\r\n\t\t\t\trange.collapse(true);\r\n\t\t\t\trange.moveEnd(\"character\", pos);\r\n\t\t\t\trange.moveStart(\"character\", pos);\r\n\t\t\t\trange.select()\r\n\t\t\t}\r\n\t\t}\r\n\r\n\r\n\t\tconst mask = function(event) {\r\n\t\t\tvar matrix = regExpString,\r\n\t\t\t\ti = 0,\r\n\t\t\t\tdef = matrix.replace(/\\D/g, \"\"),\r\n\t\t\t\tval = this.value.replace(/\\D/g, \"\");\r\n\t\t\tif (def.length >= val.length) val = def;\r\n\t\t\tthis.value = matrix.replace(/./g, function(a) {\r\n\t\t\t\treturn /[_\\d]/.test(a) && i < val.length ? val.charAt(i++) : i >= val.length ? \"\" : a\r\n\t\t\t});\r\n\t\t\tif (event.type == \"blur\") {\r\n\t\t\t\tif (this.value.length == 2) this.value = \"\"\r\n\t\t\t} else {\r\n\t\t\t\tsetCursorPosition(this.value.length, this)\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t},\r\n\r\n\ttruncateText: function(selector) {\r\n\t\tconst cutText = () => {\r\n\t\t\tfor (let i = 0; i < selector.length; i++) {\r\n\t\t\t\tconst text = selector[i]\r\n\t\t\t\tconst elemMaxHeight = parseInt(getComputedStyle(text).maxHeight, 10)\r\n\t\t\t\tconst elemHeight = parseInt(getComputedStyle(text).height, 10)\r\n\t\t\t\tconst maxHeight = elemMaxHeight ? elemMaxHeight : elemHeight\r\n\t\t\t\tshave(text, maxHeight);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tAPP.cache.cutTextListener = APP.throttle(cutText, 100)\r\n\r\n\t\tcutText();\r\n\r\n\t\twindow.addEventListener('resize', APP.cache.cutTextListener);\r\n\t},\r\n\r\n\tlazyload: function() {\r\n\t\tif (typeof APP.myLazyLoad == 'undefined') {\r\n\t\t\t_regularInit()\r\n\t\t} else {\r\n\t\t\t_update()\r\n\t\t}\r\n\r\n\t\tfunction _update() {\r\n\t\t\t// console.log('LazyLoad update');\r\n\t\t\tAPP.myLazyLoad.update();\r\n\t\t\tAPP.objectFitFallback(document.querySelectorAll('[data-object-fit]'));\r\n\t\t}\r\n\r\n\t\tfunction _regularInit() {\r\n\t\t\t// console.log('LazyLoad first init');\r\n\t\t\tAPP.myLazyLoad = new LazyLoad({\r\n\t\t\t\telements_selector: \".lazyload\",\r\n\t\t\t\tcallback_error: function(el) {\r\n\t\t\t\t\tel.parentElement.classList.add('lazyload-error')\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\tAPP.objectFitFallback(document.querySelectorAll('[data-object-fit]'));\r\n\t\t}\r\n\t},\r\n\r\n\tobjectFitFallback: function(selector) {\r\n\t\tif ('objectFit' in document.documentElement.style === false) {\r\n\t\t\tconsole.log('objectFit Fallback');\r\n\t\t\tfor (var i = 0; i < selector.length; i++) {\r\n\t\t\t\tconst that = selector[i]\r\n\t\t\t\tconst imgUrl = that.getAttribute('src');\r\n\t\t\t\tconst dataFit = that.getAttribute('data-object-fit')\r\n\t\t\t\tlet fitStyle\r\n\t\t\t\tif (dataFit === 'contain') {\r\n\t\t\t\t\tfitStyle = 'contain'\r\n\t\t\t\t} else if (dataFit === 'cover') {\r\n\t\t\t\t\tfitStyle = 'cover'\r\n\t\t\t\t} else {\r\n\t\t\t\t\tfitStyle = 'auto'\r\n\t\t\t\t}\r\n\t\t\t\tconst parent = that.parentElement\r\n\t\t\t\tif (imgUrl) {\r\n\t\t\t\t\tparent.style.backgroundImage = 'url(' + imgUrl + ')'\r\n\t\t\t\t\tparent.style.backgroundSize = fitStyle\r\n\t\t\t\t\tparent.classList.add('fit-img')\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t}\r\n\t},\r\n\r\n\tsvgIcons: function () {\r\n\t\tconst container = document.querySelector('[data-svg-path]')\r\n\t\tconst path = container.getAttribute('data-svg-path')\r\n\t\tconst xhr = new XMLHttpRequest()\r\n\t\txhr.onload = function() {\r\n\t\t\tcontainer.innerHTML = this.responseText\r\n\t\t}\r\n\t\txhr.open('get', path, true)\r\n\t\txhr.send()\r\n\t},\r\n\r\n\tpolyfills: function () {\r\n\t\t/**\r\n\t\t * polyfill for .closest\r\n\t\t */\r\n\t\t(function(ELEMENT) {\r\n\t\t\tELEMENT.matches = ELEMENT.matches || ELEMENT.mozMatchesSelector || ELEMENT.msMatchesSelector || ELEMENT.oMatchesSelector || ELEMENT.webkitMatchesSelector;\r\n\t\t\tELEMENT.closest = ELEMENT.closest || function closest(selector) {\r\n\t\t\t\tif (!this) return null;\r\n\t\t\t\tif (this.matches(selector)) return this;\r\n\t\t\t\tif (!this.parentElement) {return null}\r\n\t\t\t\t\telse return this.parentElement.closest(selector)\r\n\t\t\t\t};\r\n\t\t}(Element.prototype));\r\n\r\n\t\tElement.prototype.hasClass = function(className) {\r\n\t\t\treturn this.className && new RegExp(\"(^|\\\\s)\" + className + \"(\\\\s|$)\").test(this.className);\r\n\t\t};\r\n\t},\r\n\r\n\tdetectIE: function() {\r\n\t\t/**\r\n\t\t * detect IE\r\n\t\t * returns version of IE or false, if browser is not Internet Explorer\r\n\t\t */\r\n\r\n\t\t (function detectIE() {\r\n\t\t \tvar ua = window.navigator.userAgent;\r\n\r\n\t\t \tvar msie = ua.indexOf('MSIE ');\r\n\t\t \tif (msie > 0) {\r\n\t\t\t\t// IE 10 or older => return version number\r\n\t\t\t\tvar ieV = parseInt(ua.substring(msie + 5, ua.indexOf('.', msie)), 10);\r\n\t\t\t\tdocument.querySelector('body').className += ' IE';\r\n\t\t\t}\r\n\r\n\t\t\tvar trident = ua.indexOf('Trident/');\r\n\t\t\tif (trident > 0) {\r\n\t\t\t\t// IE 11 => return version number\r\n\t\t\t\tvar rv = ua.indexOf('rv:');\r\n\t\t\t\tvar ieV = parseInt(ua.substring(rv + 3, ua.indexOf('.', rv)), 10);\r\n\t\t\t\tdocument.querySelector('body').className += ' IE';\r\n\t\t\t}\r\n\r\n\t\t\tvar edge = ua.indexOf('Edge/');\r\n\t\t\tif (edge > 0) {\r\n\t\t\t\t// IE 12 (aka Edge) => return version number\r\n\t\t\t\tvar ieV = parseInt(ua.substring(edge + 5, ua.indexOf('.', edge)), 10);\r\n\t\t\t\tdocument.querySelector('body').className += ' IE';\r\n\t\t\t}\r\n\r\n\t\t\t// other browser\r\n\t\t\treturn false;\r\n\t\t})();\r\n\t},\r\n\r\n\tthrottle: function (callback, limit) {\r\n\t\tvar wait = false;\r\n\t\treturn function() {\r\n\t\t\tif (!wait) {\r\n\t\t\t\tcallback.call();\r\n\t\t\t\twait = true;\r\n\t\t\t\tsetTimeout(function() {\r\n\t\t\t\t\twait = false;\r\n\t\t\t\t}, limit);\r\n\t\t\t}\r\n\t\t};\r\n\t},\r\n\r\n\tgetScreenSize: function() {\r\n\t\tlet screenSize =\r\n\t\t\twindow\r\n\t\t\t.getComputedStyle(document.querySelector('body'), ':after')\r\n\t\t\t.getPropertyValue('content');\r\n\t\tscreenSize = parseInt(screenSize.match(/\\d+/));\r\n\t\treturn screenSize;\r\n\t}\r\n};\r\n\r\nAPP.initBefore();\r\n\r\ndocument.addEventListener('DOMContentLoaded', function() {\r\n\tAPP.init();\r\n});\r\n\r\nwindow.onload = function() {\r\n\tAPP.initOnLoad();\r\n};\r\n"]}